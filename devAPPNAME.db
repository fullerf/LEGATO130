#! Generated by VisualDCT v2.6
#! DBDSTART
#! DBDEND


# I assume that irate and wrate limits are equal.
record(ai, "$(P)$(R):Rate:MinVal") {
  field(DESC, "get the irate limits for syringe")
  field(DTYP, "stream")
  field(INP, "@dev$[APP_NAME].proto getLims(irate,$(P)$(R):Rate,$(P)$(R):PromptString) $(PORT) $(ADDR)")
  field(PINI, "YES")
  field(FLNK, "$(P)$(R):RMin")
}

record(ai, "$(P)$(R):Rate:MinUnits") {
}

record(ai, "$(P)$(R):Rate:MaxVal") {
}

record(ai, "$(P)$(R):Rate:MaxUnits") {
}

record(calcout, "$(P)$(R):RMin") {
  field(DESC, "convert min withdraw rate to ul/min")
  field(FLNK, "$(P)$(R):RMax")
  field(CALC, "A*(10^(3*B-6))")
  field(INPA, "$(P)$(R):Rate:MinVal.VAL NPP")
  field(INPB, "$(P)$(R):Rate:MinUnits.VAL NPP")
  field(OUT, "$(P)$(R):BoundedRate.DRVL")
}

record(calcout, "$(P)$(R):RMax") {
  field(DESC, "convert max withdraw rate to ul/min")
  field(CALC, "A*(10^(3*B-6))")
  field(INPA, "$(P)$(R):Rate:MaxVal.VAL NPP")
  field(INPB, "$(P)$(R):Rate:MaxUnits.VAL NPP")
  field(OUT, "$(P)$(R):BoundedRate.DRVH")
}

record(ai, "$(P)$(R):RunSpeed") {
  field(FLNK, "$(P)$(R):AbsRate")
  field(EGU, "ul/min")
}

record(bo, "$(P)$(R):UpdateLims") {
  field(FLNK, "$(P)$(R):Rate:MinVal")
  field(HIGH, "0.25")
}

record(calcout, "$(P)$(R):BoundedIRateOut") {
  field(DTYP, "stream")
  field(DESC, "check rate is in bounds")
  field(INPA, "$(P)$(R):RunSpeed")
  field(INPC, "$(P)$(R):BoundedRate")
  field(CALC, "A>=0")
  field(OOPT, "When Non-zero")
  field(DOPT, "Use CALC")
  field(OUT, "@dev$[APP_NAME].proto setBoundedRate(irate,$(P)$(R):PromptString) $(PORT) $(ADDR)")
  field(FLNK, "$(P)$(R):IRFan")
}

record(ao, "$(P)$(R):BoundedRate") {
  field(FLNK, "$(P)$(R):RateFan")
  field(DOL, "$(P)$(R):AbsRate.VAL")
  field(OIF, "Full")
  field(OMSL, "closed_loop")
}

record(calcout, "$(P)$(R):BoundedWRateOut") {
  field(DTYP, "stream")
  field(DESC, "check rate is in bounds")
  field(INPA, "$(P)$(R):RunSpeed")
  field(INPC, "$(P)$(R):BoundedRate")
  field(CALC, "A<0")
  field(OOPT, "When Non-zero")
  field(DOPT, "Use CALC")
  field(OUT, "@dev$[APP_NAME].proto setBoundedRate(wrate,$(P)$(R):PromptString) $(PORT) $(ADDR)")
  field(FLNK, "$(P)$(R):WRFan")
}

record(fanout, "$(P)$(R):RateFan") {
  field(LNK1, "$(P)$(R):BoundedIRateOut")
  field(LNK2, "$(P)$(R):BoundedWRateOut")
}

record(ai, "$(P)$(R):Go") {
  field(FLNK, "$(P)$(R):RunSpeed")
}

record(calcout, "$(P)$(R):GoInfuse") {
  field(DTYP, "stream")
  field(CALC, "(A>=0)")
  field(INPA, "$(P)$(R):RunSpeed")
  field(OUT, "@dev$[APP_NAME].proto infuseEnableSimple($(P)$(R):PromptString) $(PORT) $(ADDR)")
  field(OOPT, "When Non-zero")
  field(DOPT, "Use OCAL")
  field(INPB, "$(P)$(R):Go")
  field(OCAL, "B")
}

record(calcout, "$(P)$(R):GoWithdraw") {
  field(DTYP, "stream")
  field(CALC, "(A<0)")
  field(INPA, "$(P)$(R):RunSpeed")
  field(OUT, "@dev$[APP_NAME].proto withdrawEnableSimple($(P)$(R):PromptString) $(PORT) $(ADDR)")
  field(OOPT, "When Non-zero")
  field(DOPT, "Use OCAL")
  field(INPB, "$(P)$(R):Go")
  field(OCAL, "B")
}

record(calc, "$(P)$(R):WorI?") {
  field(CALC, "A>=0")
  field(FLNK, "$(P)$(R):WorIFan")
}

record(ai, "$(P)$(R):PromptString") {
  field(FLNK, "$(P)$(R):PromptFanOut")
}

record(calc, "$(P)$(R):Withdrawing") {
  field(CALC, "A=2")
  field(INPA, "$(P)$(R):PromptString.VAL")
}

record(calc, "$(P)$(R):Idle") {
  field(CALC, "A=0")
  field(INPA, "$(P)$(R):PromptString.VAL")
}

record(calc, "$(P)$(R):Infusing") {
  field(CALC, "A=1")
  field(INPA, "$(P)$(R):PromptString.VAL")
}

record(calc, "$(P)$(R):TReached") {
  field(CALC, "A=3")
  field(INPA, "$(P)$(R):PromptString.VAL")
}

record(fanout, "$(P)$(R):PromptFanOut") {
  field(LNK1, "$(P)$(R):CheckStatus")
  field(LNK2, "$(P)$(R):TReached")
  field(LNK3, "$(P)$(R):Infusing")
  field(LNK4, "$(P)$(R):Withdrawing")
  field(LNK5, "$(P)$(R):Idle")
}

record(calcout, "$(P)$(R):CheckStatus") {
  field(INPA, "$(P)$(R):PromptString")
  field(DTYP, "Soft Channel")
  field(CALC, "(A=3)")
  field(OUT, "$(P)$(R):Go PP")
  field(OOPT, "When Non-zero")
  field(DOPT, "Use OCAL")
}

record(fanout, "$(P)$(R):IRFan") {
  field(LNK1, "$(P)$(R):GoInfuse")
  field(LNK2, "$(P)$(R):InfuseRate")
}

record(fanout, "$(P)$(R):WRFan") {
  field(LNK1, "$(P)$(R):GoWithdraw")
  field(LNK2, "$(P)$(R):WithdrawRate")
}

record(ao, "$(P)$(R):WithdrawRate") {
  field(FLNK, "$(P)$(R):WorI?")
  field(DOL, "$(P)$(R):BoundedRate")
  field(OMSL, "closed_loop")
}

record(ao, "$(P)$(R):InfuseRate") {
  field(FLNK, "$(P)$(R):WorI?")
  field(DOL, "$(P)$(R):BoundedRate")
  field(OMSL, "closed_loop")
}

record(calcout, "$(P)$(R):WorIUpEdge") {
  field(CALC, "1")
  field(INPA, "$(P)$(R):WorI?")
  field(OUT, "$(P)$(R):Dummy1 PP")
  field(OOPT, "Transition To Non-zero")
  field(DOPT, "Use CALC")
}

record(calcout, "$(P)$(R):WorIDownEdge") {
  field(CALC, "1")
  field(INPA, "$(P)$(R):WorI?")
  field(OUT, "$(P)$(R):Dummy2 PP")
  field(OOPT, "Transition To Zero")
  field(DOPT, "Use CALC")
}

record(fanout, "$(P)$(R):WorIFan") {
  field(LNK1, "$(P)$(R):WorIUpEdge")
  field(LNK2, "$(P)$(R):WorIDownEdge")
}

# A = Withdraw Rate
# B = Infusing State
# 
# English:
# 
# if Infusing AND Withdraw Rate defined, then RRUN (resulting in change to withdraw)
# 
# (it should always be exclusive OR, but we can enforce it regardless)
# 
# Math:
# 
# ((A>0) && (B>0))
record(calcout, "$(P)$(R):RRun2W") {
  field(DTYP, "stream")
  field(CALC, "((A>0) && (B>0))")
  field(INPA, "$(P)$(R):WithdrawRate")
  field(INPB, "$(P)$(R):Infusing")
  field(OOPT, "When Non-zero")
  field(DOPT, "Use CALC")
  field(OUT, "@dev$[APP_NAME].proto quickReverse($(P)$(R):PromptString) $(PORT) $(ADDR)")
}

record(bi, "$(P)$(R):Dummy1") {
  field(FLNK, "$(P)$(R):RRun2I")
}

record(bi, "$(P)$(R):Dummy2") {
  field(FLNK, "$(P)$(R):RRun2W")
}

record(calcout, "$(P)$(R):RRun2I") {
  field(DTYP, "stream")
  field(CALC, "((A>0) && (B>0))")
  field(INPA, "$(P)$(R):InfuseRate")
  field(INPB, "$(P)$(R):Withdrawing")
  field(OOPT, "When Non-zero")
  field(DOPT, "Use CALC")
  field(OUT, "@dev$[APP_NAME].proto quickReverse($(P)$(R):PromptString) $(PORT) $(ADDR)")
}

record(calc, "$(P)$(R):AbsRate") {
  field(CALC, "(A<0)?-A:A")
  field(INPA, "$(P)$(R):RunSpeed")
  field(FLNK, "$(P)$(R):BoundedRate")
}

record(bo, "$(P)$(R):UpdateIVol") {
  field(FLNK, "$(P)$(R):IVol")
  field(HIGH, "0.25")
}

record(bo, "$(P)$(R):ClearIVol") {
  field(DESC, "Clear the infused volume")
  field(DTYP, "stream")
  field(FLNK, "$(P)$(R):IVol")
  field(OUT, "@dev$[APP_NAME].proto clearXVol(civolume,$(P)$(R):PromptString) $(PORT) $(ADDR)")
  field(ZNAM, "Don't Clear")
  field(ONAM, "Clear it")
  field(HIGH, "0.25")
}

record(ai, "$(P)$(R):IVol:Units") {
}

record(ai, "$(P)$(R):IVol") {
  field(DESC, "infused volume in ul")
  field(DTYP, "stream")
  field(FLNK, "$(P)$(R):IVol:Convert")
  field(INP, "@dev$[APP_NAME].proto getInfusedVol($(P)$(R):IVol,$(P)$(R):PromptString) $(PORT) $(ADDR)")
  field(EGU, "ul")
}

record(calcout, "$(P)$(R):IVol:Convert") {
  field(CALC, "B*(10^((3*A) - 6))")
  field(INPA, "$(P)$(R):IVol:Units")
  field(INPB, "$(P)$(R):IVol")
  field(OUT, "$(P)$(R):IVol")
  field(OOPT, "Every Time")
  field(DOPT, "Use CALC")
}

record(calcout, "$(P)$(R):WVol:Convert") {
  field(CALC, "B*(10^((3*A)-6))")
  field(INPA, "$(P)$(R):WVol:Units")
  field(INPB, "$(P)$(R):WVol")
  field(OUT, "$(P)$(R):WVol")
  field(OOPT, "Every Time")
  field(DOPT, "Use CALC")
}

record(ao, "$(P)$(R):TVol") {
  field(DTYP, "stream")
  field(OUT, "@dev$[APP_NAME].proto targetVol($(P)$(R):PromptString) $(PORT) $(ADDR)")
  field(EGU, "ul")
}

record(bo, "$(P)$(R):DummyClear") {
  field(VAL, "0")
  field(OUT, "$(P)$(R):TVol PP")
}

record(bo, "$(P)$(R):ClearTVol") {
  field(DESC, "Clear the target volume")
  field(DTYP, "stream")
  field(FLNK, "$(P)$(R):DummyClear")
  field(OUT, "@dev$[APP_NAME].proto clearXVol(ctvolume,$(P)$(R):PromptString) $(PORT) $(ADDR)")
  field(HIGH, "0.25")
  field(ZNAM, "Don't Clear")
  field(ONAM, "Clear it")
}

record(ai, "$(P)$(R):WVol") {
  field(DESC, "withdrawn volume in ul")
  field(DTYP, "stream")
  field(FLNK, "$(P)$(R):WVol:Convert")
  field(INP, "@dev$[APP_NAME].proto getWithdrawnVol($(P)$(R):WVol,$(P)$(R):PromptString) $(PORT) $(ADDR)")
  field(EGU, "ul")
}

record(ai, "$(P)$(R):WVol:Units") {
}

record(bo, "$(P)$(R):ClearWVol") {
  field(DESC, "Clear the withdrawn volume")
  field(DTYP, "stream")
  field(FLNK, "$(P)$(R):WVol")
  field(OUT, "@dev$[APP_NAME].proto clearXVol(cwvolume,$(P)$(R):PromptString) $(PORT) $(ADDR)")
  field(HIGH, "0.25")
  field(ZNAM, "Don't Clear")
  field(ONAM, "Clear it")
}

record(bo, "$(P)$(R):UpdateWVol") {
  field(FLNK, "$(P)$(R):WVol")
  field(HIGH, "0.25")
}

record(stringin, "$(P)$(R):IDN") {
  field(DESC, "SCPI identification string")
  field(DTYP, "stream")
  field(INP, "@dev$[APP_NAME].proto getIDN(39,$(P)$(R):PromptString) $(PORT) $(ADDR)")
}

#! Further lines contain data used by VisualDCT
#! View(794,1571,1.0)
#! Record("$(P)$(R):Rate:MinVal",720,1114,0,0,"$(P)$(R):Rate:MinVal")
#! Field("$(P)$(R):Rate:MinVal.VAL",16777215,1,"$(P)$(R):Rate:MinVal.VAL")
#! Field("$(P)$(R):Rate:MinVal.FLNK",16777215,1,"$(P)$(R):Rate:MinVal.FLNK")
#! Link("$(P)$(R):Rate:MinVal.FLNK","$(P)$(R):RMin")
#! Record("$(P)$(R):Rate:MinUnits",720,1303,0,1,"$(P)$(R):Rate:MinUnits")
#! Field("$(P)$(R):Rate:MinUnits.VAL",16777215,1,"$(P)$(R):Rate:MinUnits.VAL")
#! Record("$(P)$(R):Rate:MaxVal",720,1403,0,1,"$(P)$(R):Rate:MaxVal")
#! Field("$(P)$(R):Rate:MaxVal.VAL",16777215,1,"$(P)$(R):Rate:MaxVal.VAL")
#! Record("$(P)$(R):Rate:MaxUnits",720,1503,0,1,"$(P)$(R):Rate:MaxUnits")
#! Field("$(P)$(R):Rate:MaxUnits.VAL",16777215,1,"$(P)$(R):Rate:MaxUnits.VAL")
#! Record("$(P)$(R):RMin",1040,1200,0,0,"$(P)$(R):RMin")
#! Field("$(P)$(R):RMin.INPA",16777215,0,"$(P)$(R):RMin.INPA")
#! Link("$(P)$(R):RMin.INPA","$(P)$(R):Rate:MinVal.VAL")
#! Field("$(P)$(R):RMin.INPB",16777215,0,"$(P)$(R):RMin.INPB")
#! Link("$(P)$(R):RMin.INPB","$(P)$(R):Rate:MinUnits.VAL")
#! Field("$(P)$(R):RMin.FLNK",16777215,1,"$(P)$(R):RMin.FLNK")
#! Link("$(P)$(R):RMin.FLNK","$(P)$(R):RMax")
#! Field("$(P)$(R):RMin.OUT",16777215,1,"$(P)$(R):RMin.OUT")
#! Link("$(P)$(R):RMin.OUT","$(P)$(R):BoundedRate.DRVL")
#! Record("$(P)$(R):RMax",1460,1354,0,0,"$(P)$(R):RMax")
#! Field("$(P)$(R):RMax.INPA",16777215,0,"$(P)$(R):RMax.INPA")
#! Link("$(P)$(R):RMax.INPA","$(P)$(R):Rate:MaxVal.VAL")
#! Field("$(P)$(R):RMax.INPB",16777215,0,"$(P)$(R):RMax.INPB")
#! Link("$(P)$(R):RMax.INPB","$(P)$(R):Rate:MaxUnits.VAL")
#! Field("$(P)$(R):RMax.OUT",16777215,0,"$(P)$(R):RMax.OUT")
#! Link("$(P)$(R):RMax.OUT","$(P)$(R):BoundedRate.DRVH")
#! Record("$(P)$(R):RunSpeed",480,336,0,0,"$(P)$(R):RunSpeed")
#! Field("$(P)$(R):RunSpeed.FLNK",16777215,1,"$(P)$(R):RunSpeed.FLNK")
#! Link("$(P)$(R):RunSpeed.FLNK","$(P)$(R):AbsRate")
#! Field("$(P)$(R):RunSpeed.VAL",16777215,1,"$(P)$(R):RunSpeed.VAL")
#! Record("$(P)$(R):UpdateLims",440,1136,0,1,"$(P)$(R):UpdateLims")
#! Field("$(P)$(R):UpdateLims.FLNK",16777215,1,"$(P)$(R):UpdateLims.FLNK")
#! Link("$(P)$(R):UpdateLims.FLNK","$(P)$(R):Rate:MinVal")
#! Record("$(P)$(R):BoundedIRateOut",1620,99,0,0,"$(P)$(R):BoundedIRateOut")
#! Field("$(P)$(R):BoundedIRateOut.INPA",16777215,0,"$(P)$(R):BoundedIRateOut.INPA")
#! Link("$(P)$(R):BoundedIRateOut.INPA","$(P)$(R):RunSpeed.VAL")
#! Field("$(P)$(R):BoundedIRateOut.INPC",16777215,0,"$(P)$(R):BoundedIRateOut.INPC")
#! Link("$(P)$(R):BoundedIRateOut.INPC","$(P)$(R):BoundedRate.VAL")
#! Field("$(P)$(R):BoundedIRateOut.FLNK",16777215,1,"$(P)$(R):BoundedIRateOut.FLNK")
#! Link("$(P)$(R):BoundedIRateOut.FLNK","$(P)$(R):IRFan")
#! Record("$(P)$(R):BoundedRate",1100,388,0,0,"$(P)$(R):BoundedRate")
#! Field("$(P)$(R):BoundedRate.DOL",16777215,0,"$(P)$(R):BoundedRate.DOL")
#! Link("$(P)$(R):BoundedRate.DOL","$(P)$(R):AbsRate.VAL")
#! Field("$(P)$(R):BoundedRate.VAL",16777215,1,"$(P)$(R):BoundedRate.VAL")
#! Field("$(P)$(R):BoundedRate.FLNK",16777215,1,"$(P)$(R):BoundedRate.FLNK")
#! Link("$(P)$(R):BoundedRate.FLNK","$(P)$(R):RateFan")
#! Field("$(P)$(R):BoundedRate.DRVH",16777215,1,"$(P)$(R):BoundedRate.DRVH")
#! Field("$(P)$(R):BoundedRate.DRVL",16777215,1,"$(P)$(R):BoundedRate.DRVL")
#! Record("$(P)$(R):BoundedWRateOut",1620,379,0,0,"$(P)$(R):BoundedWRateOut")
#! Field("$(P)$(R):BoundedWRateOut.INPA",16777215,0,"$(P)$(R):BoundedWRateOut.INPA")
#! Link("$(P)$(R):BoundedWRateOut.INPA","$(P)$(R):RunSpeed.VAL")
#! Field("$(P)$(R):BoundedWRateOut.INPC",16777215,0,"$(P)$(R):BoundedWRateOut.INPC")
#! Link("$(P)$(R):BoundedWRateOut.INPC","$(P)$(R):BoundedRate.VAL")
#! Field("$(P)$(R):BoundedWRateOut.FLNK",16777215,1,"$(P)$(R):BoundedWRateOut.FLNK")
#! Link("$(P)$(R):BoundedWRateOut.FLNK","$(P)$(R):WRFan")
#! Record("$(P)$(R):RateFan",1360,396,0,0,"$(P)$(R):RateFan")
#! Field("$(P)$(R):RateFan.LNK1",16777215,1,"$(P)$(R):RateFan.LNK1")
#! Link("$(P)$(R):RateFan.LNK1","$(P)$(R):BoundedIRateOut")
#! Field("$(P)$(R):RateFan.LNK2",16777215,1,"$(P)$(R):RateFan.LNK2")
#! Link("$(P)$(R):RateFan.LNK2","$(P)$(R):BoundedWRateOut")
#! Record("$(P)$(R):Go",200,350,0,1,"$(P)$(R):Go")
#! Field("$(P)$(R):Go.VAL",16777215,1,"$(P)$(R):Go.VAL")
#! Field("$(P)$(R):Go.FLNK",16777215,1,"$(P)$(R):Go.FLNK")
#! Link("$(P)$(R):Go.FLNK","$(P)$(R):RunSpeed")
#! Record("$(P)$(R):GoInfuse",2160,172,0,0,"$(P)$(R):GoInfuse")
#! Field("$(P)$(R):GoInfuse.INPA",16777215,0,"$(P)$(R):GoInfuse.INPA")
#! Link("$(P)$(R):GoInfuse.INPA","$(P)$(R):RunSpeed.VAL")
#! Field("$(P)$(R):GoInfuse.INPB",16777215,0,"$(P)$(R):GoInfuse.INPB")
#! Link("$(P)$(R):GoInfuse.INPB","$(P)$(R):Go.VAL")
#! Record("$(P)$(R):GoWithdraw",2160,452,0,0,"$(P)$(R):GoWithdraw")
#! Field("$(P)$(R):GoWithdraw.INPA",16777215,0,"$(P)$(R):GoWithdraw.INPA")
#! Link("$(P)$(R):GoWithdraw.INPA","$(P)$(R):RunSpeed.VAL")
#! Field("$(P)$(R):GoWithdraw.INPB",16777215,0,"$(P)$(R):GoWithdraw.INPB")
#! Link("$(P)$(R):GoWithdraw.INPB","$(P)$(R):Go.VAL")
#! Record("$(P)$(R):WorI?",2620,36,0,1,"$(P)$(R):WorI?")
#! Field("$(P)$(R):WorI?.FLNK",16777215,1,"$(P)$(R):WorI?.FLNK")
#! Link("$(P)$(R):WorI?.FLNK","$(P)$(R):WorIFan")
#! Field("$(P)$(R):WorI?.VAL",16777215,1,"$(P)$(R):WorI?.VAL")
#! Record("$(P)$(R):PromptString",520,2110,0,1,"$(P)$(R):PromptString")
#! Field("$(P)$(R):PromptString.FLNK",16777215,1,"$(P)$(R):PromptString.FLNK")
#! Link("$(P)$(R):PromptString.FLNK","$(P)$(R):PromptFanOut")
#! Field("$(P)$(R):PromptString.VAL",16777215,1,"$(P)$(R):PromptString.VAL")
#! Record("$(P)$(R):Withdrawing",1120,1716,0,0,"$(P)$(R):Withdrawing")
#! Field("$(P)$(R):Withdrawing.INPA",16777215,0,"$(P)$(R):Withdrawing.INPA")
#! Link("$(P)$(R):Withdrawing.INPA","$(P)$(R):PromptString.VAL")
#! Field("$(P)$(R):Withdrawing.VAL",16777215,1,"$(P)$(R):Withdrawing.VAL")
#! Record("$(P)$(R):Idle",1120,1596,0,0,"$(P)$(R):Idle")
#! Field("$(P)$(R):Idle.INPA",16777215,0,"$(P)$(R):Idle.INPA")
#! Link("$(P)$(R):Idle.INPA","$(P)$(R):PromptString.VAL")
#! Record("$(P)$(R):Infusing",1120,1836,0,0,"$(P)$(R):Infusing")
#! Field("$(P)$(R):Infusing.INPA",16777215,0,"$(P)$(R):Infusing.INPA")
#! Link("$(P)$(R):Infusing.INPA","$(P)$(R):PromptString.VAL")
#! Field("$(P)$(R):Infusing.VAL",16777215,1,"$(P)$(R):Infusing.VAL")
#! Record("$(P)$(R):TReached",1120,1956,0,0,"$(P)$(R):TReached")
#! Field("$(P)$(R):TReached.INPA",16777215,0,"$(P)$(R):TReached.INPA")
#! Link("$(P)$(R):TReached.INPA","$(P)$(R):PromptString.VAL")
#! Record("$(P)$(R):PromptFanOut",780,2334,0,0,"$(P)$(R):PromptFanOut")
#! Field("$(P)$(R):PromptFanOut.LNK1",16777215,1,"$(P)$(R):PromptFanOut.LNK1")
#! Link("$(P)$(R):PromptFanOut.LNK1","$(P)$(R):CheckStatus")
#! Field("$(P)$(R):PromptFanOut.LNK2",16777215,1,"$(P)$(R):PromptFanOut.LNK2")
#! Link("$(P)$(R):PromptFanOut.LNK2","$(P)$(R):TReached")
#! Field("$(P)$(R):PromptFanOut.LNK3",16777215,1,"$(P)$(R):PromptFanOut.LNK3")
#! Link("$(P)$(R):PromptFanOut.LNK3","$(P)$(R):Infusing")
#! Field("$(P)$(R):PromptFanOut.LNK4",16777215,1,"$(P)$(R):PromptFanOut.LNK4")
#! Link("$(P)$(R):PromptFanOut.LNK4","$(P)$(R):Withdrawing")
#! Field("$(P)$(R):PromptFanOut.LNK5",16777215,1,"$(P)$(R):PromptFanOut.LNK5")
#! Link("$(P)$(R):PromptFanOut.LNK5","$(P)$(R):Idle")
#! Record("$(P)$(R):CheckStatus",1300,2140,0,0,"$(P)$(R):CheckStatus")
#! Field("$(P)$(R):CheckStatus.INPA",16777215,0,"$(P)$(R):CheckStatus.INPA")
#! Link("$(P)$(R):CheckStatus.INPA","$(P)$(R):PromptString.VAL")
#! Field("$(P)$(R):CheckStatus.OUT",16777215,0,"$(P)$(R):CheckStatus.OUT")
#! Link("$(P)$(R):CheckStatus.OUT","$(P)$(R):Go.VAL")
#! Record("$(P)$(R):IRFan",1880,176,0,0,"$(P)$(R):IRFan")
#! Field("$(P)$(R):IRFan.LNK1",16777215,1,"$(P)$(R):IRFan.LNK1")
#! Link("$(P)$(R):IRFan.LNK1","$(P)$(R):GoInfuse")
#! Field("$(P)$(R):IRFan.LNK2",16777215,1,"$(P)$(R):IRFan.LNK2")
#! Link("$(P)$(R):IRFan.LNK2","$(P)$(R):InfuseRate")
#! Record("$(P)$(R):WRFan",1880,476,0,0,"$(P)$(R):WRFan")
#! Field("$(P)$(R):WRFan.LNK1",16777215,1,"$(P)$(R):WRFan.LNK1")
#! Link("$(P)$(R):WRFan.LNK1","$(P)$(R):GoWithdraw")
#! Field("$(P)$(R):WRFan.LNK2",16777215,1,"$(P)$(R):WRFan.LNK2")
#! Link("$(P)$(R):WRFan.LNK2","$(P)$(R):WithdrawRate")
#! Record("$(P)$(R):WithdrawRate",2420,642,0,0,"$(P)$(R):WithdrawRate")
#! Field("$(P)$(R):WithdrawRate.DOL",16777215,0,"$(P)$(R):WithdrawRate.DOL")
#! Link("$(P)$(R):WithdrawRate.DOL","$(P)$(R):BoundedRate.VAL")
#! Field("$(P)$(R):WithdrawRate.VAL",16777215,1,"$(P)$(R):WithdrawRate.VAL")
#! Field("$(P)$(R):WithdrawRate.FLNK",16777215,1,"$(P)$(R):WithdrawRate.FLNK")
#! Link("$(P)$(R):WithdrawRate.FLNK","$(P)$(R):WorI?")
#! Record("$(P)$(R):InfuseRate",2420,362,0,0,"$(P)$(R):InfuseRate")
#! Field("$(P)$(R):InfuseRate.DOL",16777215,0,"$(P)$(R):InfuseRate.DOL")
#! Link("$(P)$(R):InfuseRate.DOL","$(P)$(R):BoundedRate.VAL")
#! Field("$(P)$(R):InfuseRate.VAL",16777215,1,"$(P)$(R):InfuseRate.VAL")
#! Field("$(P)$(R):InfuseRate.FLNK",16777215,1,"$(P)$(R):InfuseRate.FLNK")
#! Link("$(P)$(R):InfuseRate.FLNK","$(P)$(R):WorI?")
#! Record("$(P)$(R):WorIUpEdge",3220,34,0,0,"$(P)$(R):WorIUpEdge")
#! Field("$(P)$(R):WorIUpEdge.INPA",16777215,0,"$(P)$(R):WorIUpEdge.INPA")
#! Link("$(P)$(R):WorIUpEdge.INPA","$(P)$(R):WorI?.VAL")
#! Field("$(P)$(R):WorIUpEdge.OUT",16777215,1,"$(P)$(R):WorIUpEdge.OUT")
#! Link("$(P)$(R):WorIUpEdge.OUT","$(P)$(R):Dummy1.VAL")
#! Record("$(P)$(R):WorIDownEdge",3220,214,0,0,"$(P)$(R):WorIDownEdge")
#! Field("$(P)$(R):WorIDownEdge.INPA",16777215,0,"$(P)$(R):WorIDownEdge.INPA")
#! Link("$(P)$(R):WorIDownEdge.INPA","$(P)$(R):WorI?.VAL")
#! Field("$(P)$(R):WorIDownEdge.OUT",16777215,1,"$(P)$(R):WorIDownEdge.OUT")
#! Link("$(P)$(R):WorIDownEdge.OUT","$(P)$(R):Dummy2.VAL")
#! Record("$(P)$(R):WorIFan",2900,36,0,0,"$(P)$(R):WorIFan")
#! Field("$(P)$(R):WorIFan.LNK1",16777215,1,"$(P)$(R):WorIFan.LNK1")
#! Link("$(P)$(R):WorIFan.LNK1","$(P)$(R):WorIUpEdge")
#! Field("$(P)$(R):WorIFan.LNK2",16777215,1,"$(P)$(R):WorIFan.LNK2")
#! Link("$(P)$(R):WorIFan.LNK2","$(P)$(R):WorIDownEdge")
#! Record("$(P)$(R):RRun2W",3760,386,0,0,"$(P)$(R):RRun2W")
#! Field("$(P)$(R):RRun2W.INPA",16777215,0,"$(P)$(R):RRun2W.INPA")
#! Link("$(P)$(R):RRun2W.INPA","$(P)$(R):WithdrawRate.VAL")
#! Field("$(P)$(R):RRun2W.INPB",16777215,0,"$(P)$(R):RRun2W.INPB")
#! Link("$(P)$(R):RRun2W.INPB","$(P)$(R):Infusing.VAL")
#! Record("$(P)$(R):Dummy1",3480,90,0,1,"$(P)$(R):Dummy1")
#! Field("$(P)$(R):Dummy1.VAL",16777215,1,"$(P)$(R):Dummy1.VAL")
#! Field("$(P)$(R):Dummy1.FLNK",16777215,1,"$(P)$(R):Dummy1.FLNK")
#! Link("$(P)$(R):Dummy1.FLNK","$(P)$(R):RRun2I")
#! Record("$(P)$(R):Dummy2",3480,230,0,1,"$(P)$(R):Dummy2")
#! Field("$(P)$(R):Dummy2.VAL",16777215,1,"$(P)$(R):Dummy2.VAL")
#! Field("$(P)$(R):Dummy2.FLNK",16777215,1,"$(P)$(R):Dummy2.FLNK")
#! Link("$(P)$(R):Dummy2.FLNK","$(P)$(R):RRun2W")
#! Record("$(P)$(R):RRun2I",3740,586,0,0,"$(P)$(R):RRun2I")
#! Field("$(P)$(R):RRun2I.INPA",16777215,0,"$(P)$(R):RRun2I.INPA")
#! Link("$(P)$(R):RRun2I.INPA","$(P)$(R):InfuseRate.VAL")
#! Field("$(P)$(R):RRun2I.INPB",16777215,0,"$(P)$(R):RRun2I.INPB")
#! Link("$(P)$(R):RRun2I.INPB","$(P)$(R):Withdrawing.VAL")
#! Record("$(P)$(R):AbsRate",760,342,0,0,"$(P)$(R):AbsRate")
#! Field("$(P)$(R):AbsRate.INPA",16777215,0,"$(P)$(R):AbsRate.INPA")
#! Link("$(P)$(R):AbsRate.INPA","$(P)$(R):RunSpeed.VAL")
#! Field("$(P)$(R):AbsRate.FLNK",16777215,1,"$(P)$(R):AbsRate.FLNK")
#! Link("$(P)$(R):AbsRate.FLNK","$(P)$(R):BoundedRate")
#! Field("$(P)$(R):AbsRate.VAL",16777215,1,"$(P)$(R):AbsRate.VAL")
#! Record("$(P)$(R):UpdateIVol",380,2736,0,1,"$(P)$(R):UpdateIVol")
#! Field("$(P)$(R):UpdateIVol.FLNK",16777215,1,"$(P)$(R):UpdateIVol.FLNK")
#! Link("$(P)$(R):UpdateIVol.FLNK","$(P)$(R):IVol")
#! Record("$(P)$(R):ClearIVol",640,2706,0,1,"$(P)$(R):ClearIVol")
#! Field("$(P)$(R):ClearIVol.FLNK",16777215,1,"$(P)$(R):ClearIVol.FLNK")
#! Link("$(P)$(R):ClearIVol.FLNK","$(P)$(R):IVol")
#! Record("$(P)$(R):IVol:Units",920,2643,0,1,"$(P)$(R):IVol:Units")
#! Field("$(P)$(R):IVol:Units.VAL",16777215,1,"$(P)$(R):IVol:Units.VAL")
#! Record("$(P)$(R):IVol",920,2734,0,1,"$(P)$(R):IVol")
#! Field("$(P)$(R):IVol.FLNK",16777215,1,"$(P)$(R):IVol.FLNK")
#! Link("$(P)$(R):IVol.FLNK","$(P)$(R):IVol:Convert")
#! Field("$(P)$(R):IVol.VAL",16777215,1,"$(P)$(R):IVol.VAL")
#! Record("$(P)$(R):IVol:Convert",1320,2660,0,0,"$(P)$(R):IVol:Convert")
#! Field("$(P)$(R):IVol:Convert.INPA",16777215,0,"$(P)$(R):IVol:Convert.INPA")
#! Link("$(P)$(R):IVol:Convert.INPA","$(P)$(R):IVol:Units.VAL")
#! Field("$(P)$(R):IVol:Convert.INPB",16777215,0,"$(P)$(R):IVol:Convert.INPB")
#! Link("$(P)$(R):IVol:Convert.INPB","$(P)$(R):IVol.VAL")
#! Field("$(P)$(R):IVol:Convert.OUT",16777215,0,"$(P)$(R):IVol:Convert.OUT")
#! Link("$(P)$(R):IVol:Convert.OUT","$(P)$(R):IVol.VAL")
#! Record("$(P)$(R):WVol:Convert",1320,2920,0,0,"$(P)$(R):WVol:Convert")
#! Field("$(P)$(R):WVol:Convert.INPA",16777215,0,"$(P)$(R):WVol:Convert.INPA")
#! Link("$(P)$(R):WVol:Convert.INPA","$(P)$(R):WVol:Units.VAL")
#! Field("$(P)$(R):WVol:Convert.INPB",16777215,0,"$(P)$(R):WVol:Convert.INPB")
#! Link("$(P)$(R):WVol:Convert.INPB","$(P)$(R):WVol.VAL")
#! Field("$(P)$(R):WVol:Convert.OUT",16777215,0,"$(P)$(R):WVol:Convert.OUT")
#! Link("$(P)$(R):WVol:Convert.OUT","$(P)$(R):WVol.VAL")
#! Record("$(P)$(R):TVol",1200,3302,0,1,"$(P)$(R):TVol")
#! Field("$(P)$(R):TVol.VAL",16777215,0,"$(P)$(R):TVol.VAL")
#! Record("$(P)$(R):DummyClear",920,3296,0,0,"$(P)$(R):DummyClear")
#! Field("$(P)$(R):DummyClear.OUT",16777215,1,"$(P)$(R):DummyClear.OUT")
#! Link("$(P)$(R):DummyClear.OUT","$(P)$(R):TVol.VAL")
#! Record("$(P)$(R):ClearTVol",640,3246,0,1,"$(P)$(R):ClearTVol")
#! Field("$(P)$(R):ClearTVol.FLNK",16777215,1,"$(P)$(R):ClearTVol.FLNK")
#! Link("$(P)$(R):ClearTVol.FLNK","$(P)$(R):DummyClear")
#! Record("$(P)$(R):WVol",920,3034,0,1,"$(P)$(R):WVol")
#! Field("$(P)$(R):WVol.FLNK",16777215,1,"$(P)$(R):WVol.FLNK")
#! Link("$(P)$(R):WVol.FLNK","$(P)$(R):WVol:Convert")
#! Field("$(P)$(R):WVol.VAL",16777215,1,"$(P)$(R):WVol.VAL")
#! Record("$(P)$(R):WVol:Units",920,2943,0,1,"$(P)$(R):WVol:Units")
#! Field("$(P)$(R):WVol:Units.VAL",16777215,1,"$(P)$(R):WVol:Units.VAL")
#! Record("$(P)$(R):ClearWVol",640,3006,0,1,"$(P)$(R):ClearWVol")
#! Field("$(P)$(R):ClearWVol.FLNK",16777215,1,"$(P)$(R):ClearWVol.FLNK")
#! Link("$(P)$(R):ClearWVol.FLNK","$(P)$(R):WVol")
#! Record("$(P)$(R):UpdateWVol",380,3056,0,1,"$(P)$(R):UpdateWVol")
#! Field("$(P)$(R):UpdateWVol.FLNK",16777215,1,"$(P)$(R):UpdateWVol.FLNK")
#! Link("$(P)$(R):UpdateWVol.FLNK","$(P)$(R):WVol")
#! Record("$(P)$(R):IDN",200,42,0,1,"$(P)$(R):IDN")
